const s=`<svg xmlns="http://www.w3.org/2000/svg" width="170px" viewBox="0 0 24 24" fill="none" stroke="#adadad99" stroke-linecap="round" stroke-linejoin="round" class="content__main_locate_wrap_svg"><path d="M2 12a10 10 0 1 0 20 0 10 10 0 1 0 -20 0" stroke-width="2"></path><path d="M22 2 2 22" stroke-width="2"></path></svg>`;const a=document.querySelectorAll(".left"),b=a[0],c=a[1],d=a[2],e=a[3],f=document.querySelectorAll(".right"),g=f[0],h=f[1],i=f[2],j=f[3],k=document.querySelectorAll(".content__main_locate_wrap"),l=k[0],m=k[1],n=k[2],o=k[3],p=document.querySelector("[data-filter='male']"),q=document.querySelector("[data-filter='female']"),r=document.querySelector("[data-filter='unisex']"),t=document.querySelector("#btn-reset"),u=document.querySelector("[data-filter='balenciaga']"),v=document.querySelectorAll('.content__main_locate_wrap_btn-like'),w=v[0],x=v[1],y=v[2],z=v[3];let A=0,B=0,C=0,D=0,E={fS:!1,fB:!1};g.addEventListener('click',()=>{A++,U(A,"head")});b.addEventListener('click',()=>{A--,U(A,"head")});h.addEventListener('click',()=>{B++,U(B,"body")});c.addEventListener('click',()=>{B--,U(B,"body")});i.addEventListener('click',()=>{C++,U(C,"legs")});d.addEventListener('click',()=>{C--,U(C,"legs")});j.addEventListener('click',()=>{D++,U(D,"feet")});e.addEventListener('click',()=>{D--,U(D,"feet")});p.addEventListener('click',()=>{E.fS=1,V()});q.addEventListener('click',()=>{E.fS=0,V()});r.addEventListener('click',()=>{E.fS=2,V()});u.addEventListener('click',()=>{E.fB="balenciaga",V()});t.addEventListener('click',()=>{E.fS=!1,E.fB=!1,V()});async function U(F,G){try{const H=await W(F,G);if(H.length===0)return;const I=H[0],J={head:l,body:m,legs:n,feet:o}[G];if(!J)throw new Error(`Unknown locate: ${G}`);const K=J.querySelector('.content__main_locate_wrap_svg');K&&K.remove();let L=J.querySelector('img.content__main_locate_wrap_img');if(!L){L=document.createElement('img');L.className='content__main_locate_wrap_img';L.alt='';J.prepend(L)}L.id=`img-${G}`;L.src=I.LinkImg;L.alt=I.Name;const M=J.querySelector(".content__main_locate_wrap_btn-like");M.classList.remove('disabled');M.setAttribute('data-id',I.id);M.setAttribute('data-name',I.Name);M.setAttribute('data-img',I.LinkImg);M.setAttribute('data-page',I.LinkPage);M.setAttribute('data-locate',I.Locate);X(I,M);const N=J.closest('.content__main_locate_wrap');N.href=I.LinkPage}catch(O){console.error('Update error:',O)}}async function W(F,G){const P=await fetch('https://dummyjson.com/c/a3e0-25af-48d6-babd');if(!P.ok)throw new Error(`HTTP error: ${P.status}`);const Q=await P.json();let R=Q.filter(S=>S.Locate===G);if(E.fS)R=R.filter(S=>S.Sex===E.fS);if(E.fB)R=R.filter(S=>S.Brand===E.fB);const T={head:A,body:B,legs:C,feet:D};if(!(G in T))throw new Error(`Unknown locate: ${G}`);let V=F;if(R.length<V||V<=0){if(R.length<V)V=1;else if(V<=0)V=R.length;switch(G){case'head':A=V;break;case'body':B=V;break;case'legs':C=V;break;case'feet':D=V;break}}return[R[V-1]]}function V(){l.innerHTML=s;l.append(w);m.innerHTML=s;m.append(x);n.innerHTML=s;n.append(y);o.innerHTML=s;o.append(z);A=B=C=D=0;l.removeAttribute("href");m.removeAttribute("href");n.removeAttribute("href");o.removeAttribute("href");[w,x,y,z].forEach($=>{if(!$.classList.contains('disabled'))$.classList.add('disabled')})}function X(Y,Z){const _=JSON.parse(localStorage.getItem('likes'))||[],aa=_.filter(ab=>ab.id===String(Y.id));console.log(aa);aa.length!==0?Z.classList.add('active'):Z.classList.remove('active')}